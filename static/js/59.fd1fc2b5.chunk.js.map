{"version":3,"file":"static/js/59.fd1fc2b5.chunk.js","mappings":"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","sources":["redux/reducers/User/querries.js","pages/Login/login.style.js","pages/Login/Login.js"],"sourcesContent":["import axios from \"axios\";\nimport { serverURI } from \"../../../_const\";\nimport { setCurrentUser, setUserMessage } from \"./actions\";\n\nexport const logger = async (credentials, dispatch, setLoading) => {\n  const { email, password } = credentials;\n  setLoading(true);\n  try {\n    const response = await axios({\n      method: \"POST\",\n      url: `${serverURI}/auth/login`,\n      data: { email, password },\n    });\n    if (response.data.status === 200) {\n      dispatch(\n        setCurrentUser({ token: response.data.token, role: response.data.role })\n      );\n    }\n    dispatch(setUserMessage(response.data.message));\n    setLoading(false);\n  } catch (error) {\n    dispatch(setUserMessage(\"Il y à eu un problème\"));\n  }\n};\n\nexport const validateToken = (token) => {\n  return axios({\n    method: \"POST\",\n    url: `${serverURI}/verify/`,\n    data: { token },\n  });\n};\n","import styled, { css } from \"styled-components\";\nimport { colors } from \"../../_const\";\n\nconst isDisabled = (props) => {\n  if (props.disabled) {\n    return css`\n      background: #ccc;\n    `;\n  }\n};\n\nexport const LoginContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50px;\n  margin: 12px;\n  background: linear-gradient(to right, ${colors.main}, ${colors.secondary});\n  background-size: 400% 400%;\n  padding-bottom: 12px;\n  animation: backgroundMoving 25s infinite ease;\n  @keyframes backgroundMoving {\n    0% {\n      background-position: 92% 0%;\n    }\n    50% {\n      background-position: 9% 100%;\n    }\n    100% {\n      background-position: 92% 0%;\n    }\n  }\n  & > h2 {\n    color: ${colors.main};\n  }\n`;\n\nexport const FormContainer = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const LoginButton = styled.button`\n  font-size: 2em;\n  background-color: transparent;\n  outline: none;\n  color: ${colors.main};\n  border: 3px solid ${colors.main};\n  border-radius: 50px;\n  background: ${colors.secondary};\n  ${isDisabled}\n`;\n","import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport FormInput from \"../../components/FormInput/FormInput\";\nimport LoaderElement from \"../../components/Loader/LoaderElement\";\nimport { logger } from \"../../redux/reducers/User/querries\";\nimport { FormContainer, LoginButton, LoginContainer } from \"./login.style\";\n\nconst Login = ({ loading, setLoading }) => {\n  const dispatch = useDispatch();\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\n\n  const setCredentials = (e) => {\n    const { name, value } = e.target;\n    setUser({ ...user, [name]: value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    logger(user, dispatch, setLoading);\n  };\n  return (\n    <main>\n      <LoginContainer>\n        <h2>Connexion</h2>\n        {loading ? (\n          <LoaderElement />\n        ) : (\n          <FormContainer onSubmit={handleSubmit}>\n            <FormInput\n              type=\"email\"\n              name=\"email\"\n              label=\"e-mail\"\n              value={user.email}\n              handleChange={setCredentials}\n              required\n            />\n            <FormInput\n              type=\"password\"\n              name=\"password\"\n              label=\"mot de passe\"\n              value={user.password}\n              handleChange={setCredentials}\n              required\n            />\n            <LoginButton\n              disabled={!user.password || !user.email || loading}\n              type=\"submit\"\n            >\n              Se Connecter\n            </LoginButton>\n          </FormContainer>\n        )}\n      </LoginContainer>\n    </main>\n  );\n};\n\nexport default Login;\n"],"names":["logger","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","dispatch","setLoading","email","password","response","wrap","_context","prev","next","axios","method","url","concat","serverURI","data","sent","status","setCurrentUser","token","role","setUserMessage","message","t0","stop","_x","_x2","_x3","apply","arguments","LoginContainer","styled","_templateObject2","_taggedTemplateLiteral","colors","FormContainer","_templateObject3","LoginButton","_templateObject4","props","disabled","css","_templateObject","loading","useDispatch","_useState","useState","_useState2","_slicedToArray","user","setUser","setCredentials","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref2","preventDefault","_jsx","children","_jsxs","LoaderElement","onSubmit","FormInput","type","label","handleChange","required"],"sourceRoot":""}