{"version":3,"file":"static/js/59.fd1fc2b5.chunk.js","mappings":"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","sources":["redux/reducers/User/querries.js","pages/Login/login.style.js","pages/Login/Login.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { serverURI } from \"../../../_const\";\r\nimport { setCurrentUser, setUserMessage } from \"./actions\";\r\n\r\nexport const logger = async (credentials, dispatch, setLoading) => {\r\n  const { email, password } = credentials;\r\n  setLoading(true);\r\n  try {\r\n    const response = await axios({\r\n      method: \"POST\",\r\n      url: `${serverURI}/auth/login`,\r\n      data: { email, password },\r\n    });\r\n    if (response.data.status === 200) {\r\n      dispatch(\r\n        setCurrentUser({ token: response.data.token, role: response.data.role })\r\n      );\r\n    }\r\n    dispatch(setUserMessage(response.data.message));\r\n    setLoading(false);\r\n  } catch (error) {\r\n    dispatch(setUserMessage(\"Il y à eu un problème\"));\r\n  }\r\n};\r\n\r\nexport const validateToken = (token) => {\r\n  return axios({\r\n    method: \"POST\",\r\n    url: `${serverURI}/verify/`,\r\n    data: { token },\r\n  });\r\n};\r\n","import styled, { css } from \"styled-components\";\r\nimport { colors } from \"../../_const\";\r\n\r\nconst isDisabled = (props) => {\r\n  if (props.disabled) {\r\n    return css`\r\n      background: #ccc;\r\n    `;\r\n  }\r\n};\r\n\r\nexport const LoginContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50px;\r\n  margin: 12px;\r\n  background: linear-gradient(to right, ${colors.main}, ${colors.secondary});\r\n  background-size: 400% 400%;\r\n  padding-bottom: 12px;\r\n  animation: backgroundMoving 25s infinite ease;\r\n  @keyframes backgroundMoving {\r\n    0% {\r\n      background-position: 92% 0%;\r\n    }\r\n    50% {\r\n      background-position: 9% 100%;\r\n    }\r\n    100% {\r\n      background-position: 92% 0%;\r\n    }\r\n  }\r\n  & > h2 {\r\n    color: ${colors.main};\r\n  }\r\n`;\r\n\r\nexport const FormContainer = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const LoginButton = styled.button`\r\n  font-size: 2em;\r\n  background-color: transparent;\r\n  outline: none;\r\n  color: ${colors.main};\r\n  border: 3px solid ${colors.main};\r\n  border-radius: 50px;\r\n  background: ${colors.secondary};\r\n  ${isDisabled}\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport FormInput from \"../../components/FormInput/FormInput\";\r\nimport LoaderElement from \"../../components/Loader/LoaderElement\";\r\nimport { logger } from \"../../redux/reducers/User/querries\";\r\nimport { FormContainer, LoginButton, LoginContainer } from \"./login.style\";\r\n\r\nconst Login = ({ loading, setLoading }) => {\r\n  const dispatch = useDispatch();\r\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\r\n\r\n  const setCredentials = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser({ ...user, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    logger(user, dispatch, setLoading);\r\n  };\r\n  return (\r\n    <main>\r\n      <LoginContainer>\r\n        <h2>Connexion</h2>\r\n        {loading ? (\r\n          <LoaderElement />\r\n        ) : (\r\n          <FormContainer onSubmit={handleSubmit}>\r\n            <FormInput\r\n              type=\"email\"\r\n              name=\"email\"\r\n              label=\"e-mail\"\r\n              value={user.email}\r\n              handleChange={setCredentials}\r\n              required\r\n            />\r\n            <FormInput\r\n              type=\"password\"\r\n              name=\"password\"\r\n              label=\"mot de passe\"\r\n              value={user.password}\r\n              handleChange={setCredentials}\r\n              required\r\n            />\r\n            <LoginButton\r\n              disabled={!user.password || !user.email || loading}\r\n              type=\"submit\"\r\n            >\r\n              Se Connecter\r\n            </LoginButton>\r\n          </FormContainer>\r\n        )}\r\n      </LoginContainer>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"names":["logger","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","credentials","dispatch","setLoading","email","password","response","wrap","_context","prev","next","axios","method","url","concat","serverURI","data","sent","status","setCurrentUser","token","role","setUserMessage","message","t0","stop","_x","_x2","_x3","apply","arguments","LoginContainer","styled","_templateObject2","_taggedTemplateLiteral","colors","FormContainer","_templateObject3","LoginButton","_templateObject4","props","disabled","css","_templateObject","loading","useDispatch","_useState","useState","_useState2","_slicedToArray","user","setUser","setCredentials","e","_e$target","target","name","value","_objectSpread","_defineProperty","handleSubmit","_ref2","preventDefault","_jsx","children","_jsxs","LoaderElement","onSubmit","FormInput","type","label","handleChange","required"],"sourceRoot":""}