{"version":3,"file":"static/js/938.35445243.chunk.js","mappings":"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","sources":["components/AdminButtonBar/admin-button-bar.style.js","components/AdminButtonBar/AdminButtonBar.js","components/WineElement/WineElement.js","components/ProductElement/ProductElement.js","components/ProductOverview/ProductOverview.js","useFetchProducts/useFetchProducts.js","pages/ProductsPage/ProductsPage.js"],"sourcesContent":["import styled from \"styled-components\";\r\nimport { colors } from \"../../_const\";\r\n\r\nexport const AdminButtonBarContainer = styled.div`\r\n  position: relative;\r\n  margin: 12px 0px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 100%;\r\n`;\r\n\r\nexport const AdminButtonContainer = styled.div`\r\n  margin: 8px;\r\n`;\r\n\r\nexport const AdminButton = styled.button`\r\n  border: none;\r\n  outline: none;\r\n  border-radius: 50px;\r\n  padding: 12px;\r\n  background: ${colors.main};\r\n  :active {\r\n    background: black;\r\n  }\r\n`;\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  AdminButton,\r\n  AdminButtonBarContainer,\r\n  AdminButtonContainer,\r\n} from \"./admin-button-bar.style\";\r\nimport {\r\n  deleteProduct,\r\n  updateProdut,\r\n} from \"../../redux/reducers/Products/querries\";\r\nimport {\r\n  setProductToEdit,\r\n  toggleModal,\r\n} from \"../../redux/reducers/Products/actions\";\r\nimport { selectCurrentUser } from \"../../redux/reducers/User/selector\";\r\nimport {\r\n  faEdit,\r\n  faEye,\r\n  faEyeSlash,\r\n  faTrash,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst AdminButtonBar = ({ _id, product }) => {\r\n  const { token } = useSelector(selectCurrentUser);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <AdminButtonBarContainer>\r\n      <AdminButtonContainer>\r\n        <AdminButton\r\n          type=\"button\"\r\n          onClick={() => {\r\n            dispatch(toggleModal(\"editer\"));\r\n            dispatch(setProductToEdit(product));\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faEdit} size=\"2x\" color=\"purple\" />\r\n        </AdminButton>\r\n      </AdminButtonContainer>\r\n      <AdminButtonContainer>\r\n        <AdminButton\r\n          type=\"button\"\r\n          onClick={() =>\r\n            updateProdut({ _id, visible: !product?.visible }, dispatch, token)\r\n          }\r\n        >\r\n          <FontAwesomeIcon\r\n            icon={product?.visible ? faEye : faEyeSlash}\r\n            size=\"2x\"\r\n            color=\"grey\"\r\n          />\r\n        </AdminButton>\r\n      </AdminButtonContainer>\r\n      <AdminButtonContainer>\r\n        <AdminButton\r\n          type=\"button\"\r\n          onClick={() => deleteProduct(_id, dispatch, token)}\r\n        >\r\n          <FontAwesomeIcon icon={faTrash} size=\"2x\" color=\"red\" />\r\n        </AdminButton>\r\n      </AdminButtonContainer>\r\n    </AdminButtonBarContainer>\r\n  );\r\n};\r\n\r\nexport default AdminButtonBar;\r\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport {\r\n  WinePriceContainer,\r\n  WinePriceElement,\r\n} from \"../TableauHomePage/tableau-homepage.style\";\r\nimport { faWineBottle, faWineGlass } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { colors } from \"../../_const\";\r\n\r\nconst WineElement = ({ couleur, wineContent }) => {\r\n  const getWineColor = (couleur) => {\r\n    switch (couleur) {\r\n      case \"rouge\":\r\n        return \"#742f37\";\r\n      case \"blanc\":\r\n        return \"#f1f285\";\r\n      case \"rosé\":\r\n        return \"#ffb9b9\";\r\n      case \"au verre\":\r\n        return \"white\";\r\n      default:\r\n        return colors.ecriture;\r\n    }\r\n  };\r\n  return (\r\n    <WinePriceContainer>\r\n      {couleur.map(\r\n        (color) =>\r\n          color?.isChecked && (\r\n            <WinePriceElement\r\n              className=\"price wineprice\"\r\n              key={color.value}\r\n              color={color.value}\r\n            >\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  wrap: \"wrap\",\r\n                  justifyContent: \"center\",\r\n                  color: getWineColor(color.value),\r\n                  background: \"grey\",\r\n                  margin: \"5px\",\r\n                  border: \"1px solid white\",\r\n                }}\r\n              >\r\n                <span>\r\n                  <FontAwesomeIcon\r\n                    icon={\r\n                      getWineColor(color.value) !== \"white\"\r\n                        ? faWineBottle\r\n                        : faWineGlass\r\n                    }\r\n                    size=\"1x\"\r\n                  />\r\n                </span>\r\n                <span style={{ display: \"inline-block\", paddingLeft: \"8px\" }}>\r\n                  {Number(color.price).toFixed(2)}€\r\n                </span>\r\n              </div>\r\n            </WinePriceElement>\r\n          )\r\n      )}\r\n    </WinePriceContainer>\r\n  );\r\n};\r\n\r\nexport default WineElement;\r\n","import React from \"react\";\r\nimport AdminButtonBar from \"../AdminButtonBar/AdminButtonBar\";\r\nimport {\r\n  TableauContent,\r\n  WineColorContainer,\r\n  WineItemElement,\r\n} from \"../TableauHomePage/tableau-homepage.style\";\r\nimport { selectCurrentUser } from \"../../redux/reducers/User/selector\";\r\nimport { useSelector } from \"react-redux\";\r\nimport WineElement from \"../WineElement/WineElement\";\r\nimport TranslatorComponent from \"../TranslatorComponent/TranslatorComponent\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faWineBottle } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst ProductElement = ({ product, index, length }) => {\r\n  const { _id, price, description, title, visible, category, couleur } =\r\n    product;\r\n  const user = useSelector(selectCurrentUser);\r\n\r\n  const wineContent = (couleur) => {\r\n    if (couleur) {\r\n      if (\r\n        couleur.some((color) => color.isChecked && color.value === \"au verre\")\r\n      ) {\r\n        return \"AU VERRE\";\r\n      } else {\r\n        return \"75 cl\";\r\n      }\r\n    }\r\n    return \"\";\r\n  };\r\n  return (\r\n    <TableauContent\r\n      visible={user?.role === \"isAdmin\" || visible}\r\n      category={category}\r\n      last={index === length - 1}\r\n    >\r\n      {user && user.role === \"isAdmin\" && (\r\n        <AdminButtonBar _id={_id} product={product} />\r\n      )}\r\n      <h3 className=\"title\">\r\n        <span style={{ display: \"inline-block\" }}>{`${\r\n          visible ? \"\" : \"CACHÉ : \"\r\n        } ${title}`}</span>\r\n        {category !== \"cave\" || couleur.every((color) => !color.isChecked) ? (\r\n          <span className=\"price\">{price?.toFixed(2)} €</span>\r\n        ) : (\r\n          <WineElement couleur={couleur} wineContent={wineContent} />\r\n        )}\r\n      </h3>\r\n      <p className=\"description\">\r\n        {description?.length > 0 && (\r\n          <TranslatorComponent>\r\n            {description?.replace(\"\\n\", \" \")}\r\n          </TranslatorComponent>\r\n        )}\r\n      </p>\r\n    </TableauContent>\r\n  );\r\n};\r\n\r\nexport default ProductElement;\r\n","import React from \"react\";\r\nimport { findSubCategoryName } from \"../../redux/reducers/Products/utils\";\r\nimport LoaderElement from \"../Loader/LoaderElement\";\r\nimport ProductElement from \"../ProductElement/ProductElement\";\r\nimport TableauHomePage from \"../TableauHomePage/TableauHomePage\";\r\nconst ProductOverview = ({ loading, products, setFilter, filter }) => {\r\n  return (\r\n    <TableauHomePage setFilter={setFilter} filter={filter}>\r\n      {loading ? (\r\n        <LoaderElement />\r\n      ) : (\r\n        products?.map((product, index) => {\r\n          return (\r\n            <div key={product._id} style={{ width: \"100%\" }}>\r\n              <ProductElement\r\n                product={product}\r\n                index={index}\r\n                length={products.length}\r\n              />\r\n            </div>\r\n          );\r\n        })\r\n      )}\r\n    </TableauHomePage>\r\n  );\r\n};\r\n\r\nexport default ProductOverview;\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getProductsByLocation } from \"../redux/reducers/Products/querries\";\r\nimport { placeLocation } from \"../_const\";\r\nimport { selectProductsByCategory } from \"../redux/reducers/Products/selectors\";\r\n\r\nfunction useFetchProducts(setLoading, categorySelected) {\r\n  const products = useSelector(selectProductsByCategory(categorySelected));\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    getProductsByLocation(placeLocation, dispatch, setLoading);\r\n  }, [dispatch, setLoading, categorySelected]);\r\n\r\n  return products;\r\n}\r\n\r\nexport default useFetchProducts;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ProductOverview from \"../../components/ProductOverview/ProductOverview\";\r\nimport { selectProductsBySubCategory } from \"../../redux/reducers/Products/selectors\";\r\nimport useFetchProducts from \"../../useFetchProducts/useFetchProducts\";\r\nimport useRemoveDuplicateSpans from \"../../useRemoveDuplicateSpans/useRemoveDuplicateSpans\";\r\n\r\nconst ProductsPage = ({ loading, setLoading }) => {\r\n  const params = useParams();\r\n\r\n  console.log(params);\r\n\r\n  let category = params.category || \"corses\";\r\n  useFetchProducts(setLoading, category);\r\n  //  useRemoveDuplicateSpans();\r\n  const [filter, setFilter] = useState(\"\");\r\n  const products = useSelector(selectProductsBySubCategory(filter, category));\r\n\r\n  useEffect(() => {\r\n    setFilter(\"\");\r\n  }, [loading, category]);\r\n\r\n  return (\r\n    <main>\r\n      <ProductOverview\r\n        products={products}\r\n        loading={loading}\r\n        setFilter={setFilter}\r\n        filter={filter}\r\n      />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default ProductsPage;\r\n"],"names":["AdminButtonBarContainer","styled","_templateObject","_taggedTemplateLiteral","AdminButtonContainer","_templateObject2","AdminButton","_templateObject3","colors","_ref","_id","product","token","useSelector","selectCurrentUser","dispatch","useDispatch","_jsxs","children","_jsx","type","onClick","toggleModal","setProductToEdit","FontAwesomeIcon","icon","faEdit","size","color","updateProdut","visible","faEye","faEyeSlash","deleteProduct","faTrash","couleur","getWineColor","wineContent","WinePriceContainer","map","isChecked","WinePriceElement","className","value","style","display","wrap","justifyContent","background","margin","border","faWineBottle","faWineGlass","paddingLeft","Number","price","toFixed","index","length","description","title","category","user","TableauContent","role","last","AdminButtonBar","concat","every","WineElement","some","TranslatorComponent","replace","loading","products","setFilter","filter","TableauHomePage","LoaderElement","width","ProductElement","setLoading","categorySelected","selectProductsByCategory","useEffect","getProductsByLocation","placeLocation","params","useParams","console","log","useFetchProducts","_useState","useState","_useState2","_slicedToArray","selectProductsBySubCategory","ProductOverview"],"sourceRoot":""}